<html>
<head>
   <title>Trust Game</title>
   <style>
        
        #yourRoomCode,#names,#playGame{
           display:none;
        }
        h1,li{
            font-family: 'Poppins', sans-serif;
        }
        body{
            text-align: center;
        }
        button{
          font-family: 'Poppins', sans-serif;
          height:100px;
          width: 300px;
          background-color: #4CAF50; 
          border: none;
          color: white;
          padding: 15px 32px;
          text-align: center;
          text-decoration: none;
          display: inline-block;
          font-size: 26px;
          margin: 4px 10px;
          cursor: pointer;
        }
       li{
           padding:0;
           list-style-type:none;
           font-size: 30px;
       }
       #playGameButton{
           width:300px;
           margin:auto;
           text-align:center;
       }
    </style>
    <script>

        
        function gen(){
          //hide and show new buttons
          document.getElementById("names").style.display="block";
          document.getElementById("yourRoomCode").style.display = 'block';
          document.getElementById("code").innerHTML = Math.random().toString(36).substr(2, 6);
          document.getElementById("send").style.display = "none";
          document.getElementById("playGame").style.display="block";    
     
        }
        function play(){
            
        }
        
        
    </script>
</head>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
        
     $(function () {
        var socket = io();
        var teachersCode ="";
        $("#send").click(function(e){
          //sends the generated code to server     
          e.preventDefault(); // prevents page reloading
          teachersCode = $("#code").text();
          socket.emit('message', teachersCode);
          return false;
        });
       socket.on('nickname', function(nick){
           //adds the names that the server sends back to the list of connected players
           $('#names').append($('<h1>').text(nick));
       });
        $("#playGame").click(function(e){
          //sends the generated code to server     
          e.preventDefault(); // prevents page reloading
          socket.emit('readyToPlay',"play " + teachersCode);
          return false;
        });  
     });
    
    </script>
        <button id="send" onclick="gen()">Create Room Code</button>
        <h1 id="yourRoomCode">Your Room Code</h1>
        <h1 id="code"></h1>

        <ul id="names"><h1>Players Connected:</h1></ul>
        <br>
        <div id="playGameButton"> 
        <button id="playGame" onclick="play()">Play Game</button>
        </div>
</html>